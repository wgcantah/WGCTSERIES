% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/TSERIES.R
\name{tsdifference}
\alias{tsdifference}
\title{Compute Differenced Time Series Variable}
\usage{
tsdifference(data, var, lag = 1, new_var = NULL)
}
\arguments{
\item{data}{A data frame containing the time series data.}

\item{var}{A string indicating the name of the variable (column) for which the difference should be computed.}

\item{lag}{An integer specifying the lag to use for the differencing. The default is 1.}

\item{new_var}{An optional string for the name of the new differenced variable. If \code{NULL} (the default),
the new variable is named by prepending \code{"d_"} to \code{var}.}
}
\value{
A data frame with the first \code{lag} rows removed and a new column containing the differenced values.
}
\description{
This function computes the differences for a specified time series variable in a data frame using a given lag.
It removes the first \code{lag} rows from the data frame (to account for the differencing) and adds a new column
with the computed differences. If a name for the new variable is not provided, it defaults to \code{"d_"}
concatenated with the original variable name.
}
\details{
The function uses the base R \code{diff()} function to compute the differences for the specified variable.
Because differencing produces a vector that is shorter than the original data by \code{lag} observations,
the first \code{lag} rows are removed from the original data frame to align the new variable with the remaining rows.
}
\examples{
\dontrun{
# Create sample data
set.seed(123)
df <- data.frame(
  time = seq.Date(from = as.Date("2020-01-01"), by = "day", length.out = 10),
  value = cumsum(rnorm(10))
)

# Compute the first difference of the 'value' column
df_diff <- diff_time_series(df, var = "value", lag = 1)
head(df_diff)
}

}
